<head>
    <title>Rock - Paper - Scissors</title>
</head>
<body>
    <script>
        function computerPlay() {
            let choice = ['rock', 'paper', 'scissors'];
            return choice[Math.floor(Math.random() * 3)];
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            
            if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
                return {message:"invalid input", point: 0};
            }

            if (playerSelection === computerSelection) {
                return {message:"Draw", point: 0};
            }
            else if (playerSelection === "rock" && computerSelection === "scissors") {
                return {message:"You Win! rock beats scissors", point: 1};
            }
            else if (playerSelection === "paper" && computerSelection === "rock") {
                return {message:"You Win! paper beats rock", point: 1};
            }
            else if (playerSelection === "scissors" && computerSelection === "paper") {
                return {message:"You Win! scissors beats paper", point: 1};
            }
            else {
                return {message:`You Lose! ${computerSelection} beats ${playerSelection}`, point: -1};
            }
        }

        function game() {
            let playerScore = 0;
            let computerScore = 0;
            for(let i = 0; i < 5; i++) {
                let playerPlay = prompt("Rock, Paper or Scissors");
                let round = playRound(playerPlay, computerPlay());
                if (round.point === 1) {
                    playerScore++;
                }
                else if (round.point === -1) {
                    computerScore++;
                }

                console.log(round.message, "player: ", playerScore, "computer: ", computerScore);
            }

            if (playerScore > computerScore) {
                console.log("You won the Game");
            }
            else if (playerScore < computerScore) {
                console.log("Computer won the Game");
            }
            else {
                console.log("Draw");
            }
        }
        
        game();
    </script>
</body>